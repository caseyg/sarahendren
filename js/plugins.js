// ImgIx

(function t(r,i,e){function s(n,o){if(!i[n]){if(!r[n]){var u=typeof require=="function"&&require;if(!o&&u)return u(n,!0);if(a)return a(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[n]={exports:{}};r[n][0].call(h.exports,function(t){var i=r[n][1][t];return s(i?i:t)},h,h.exports,t,r,i,e)}return i[n].exports}var a=typeof require=="function"&&require;for(var n=0;n<e.length;n++)s(e[n]);return s})({1:[function(t,r,i){var e=t("./util.js"),s=t("./targetWidths.js");var a=function(){function t(t,r){this.el=t;this.settings=r||{};if(!this.el){throw new Error("ImgixTag must be passed a DOM element.")}if(this.el.hasAttribute("ix-initialized")&&!this.settings.force){return}this.ixPathVal=t.getAttribute("ix-path");this.ixParamsVal=t.getAttribute("ix-params");this.ixSrcVal=t.getAttribute("ix-src");this.ixHostVal=t.getAttribute("ix-host")||imgix.config.host;if(this.ixPathVal&&!this.ixHostVal){throw new Error("You must set a value for `imgix.config.host` or specify an `ix-host` attribute to use `ix-path` and `ix-params`.")}this.baseParams=this._extractBaseParams();this.baseUrl=this._buildBaseUrl();this.baseUrlWithoutQuery=this.baseUrl.split("?")[0];this.el.setAttribute(this.settings.sizesAttribute,this.sizes());this.el.setAttribute(this.settings.srcsetAttribute,this.srcset());if(this.el.nodeName=="IMG"){this.el.setAttribute(this.settings.srcAttribute,this.src())}this.el.setAttribute("ix-initialized","ix-initialized")}t.prototype._extractBaseParams=function(){var t;if(this.ixPathVal){t=JSON.parse(this.ixParamsVal)||{};for(var r in t){if(r.substr(-2)==="64"){t[r]=e.encode64(t[r])}}}else{var i=this.ixSrcVal.lastIndexOf("?"),s=this.ixSrcVal.substr(i+1),a=s.split("&");t={};for(var n=0,o;n<a.length;n++){o=a[n].split("=");t[o[0]]=o[1]}}if(imgix.config.includeLibraryParam){t.ixlib="imgixjs-"+imgix.VERSION}return t};t.prototype._buildBaseUrl=function(){if(this.ixSrcVal){return this.ixSrcVal}var t=this.ixPathVal,r=imgix.config.useHttps?"https":"http",i=r+"://"+this.ixHostVal,e=this.ixHostVal.substr(-1)==="/",s=t[0]==="/";if(e&&s){i+=t.substr(1)}else if(!e&&!s){i+="/"+t}else{i+=t}i+="?";var a=[],n;for(var o in this.baseParams){n=this.baseParams[o];a.push(encodeURIComponent(o)+"="+encodeURIComponent(n))}i+=a.join("&");return i};t.prototype._buildSrcsetPair=function(t){var r=e.shallowClone(this.baseParams);r.w=t;if(this.baseParams.w!=null&&this.baseParams.h!=null){r.h=Math.round(t*(this.baseParams.h/this.baseParams.w))}var i=this.baseUrlWithoutQuery+"?",s,a=[];for(var n in r){s=r[n];a.push(n+"="+s)}i+=a.join("&");return i+" "+t+"w"};t.prototype.src=function(){return this.baseUrl};t.prototype.srcset=function(){var t=[];for(var r=0;r<s.length;r++){t.push(this._buildSrcsetPair(s[r]))}return t.join(", ")};t.prototype.sizes=function(){var t=this.el.getAttribute("sizes");if(t){return t}else{return"100vw"}};return t}();r.exports=a},{"./targetWidths.js":4,"./util.js":5}],2:[function(t,r,i){r.exports={host:null,useHttps:true,includeLibraryParam:true}},{}],3:[function(t,r,i){(function(r){var i=t("./ImgixTag.js"),e=t("./util.js"),s=t("./defaultConfig");var a="3.0.1";var n=["img[ix-src]","source[ix-src]","img[ix-path]","source[ix-path]"].join(",");var o={force:false,srcAttribute:"src",srcsetAttribute:"srcset",sizesAttribute:"sizes"};r.imgix={init:function(t){var r=document.querySelectorAll(n),s=e.shallowClone(o);e.extend(s,t||{});for(var a=0,u;a<r.length;a++){new i(r[a],s)}},config:s,VERSION:a};e.domReady(function(){var t=document.querySelector('meta[property="ix:host"]'),i=document.querySelector('meta[property="ix:useHttps"]'),e=document.querySelector('meta[property="ix:includeLibraryParam"]');if(t){r.imgix.config.host=t.getAttribute("content")}if(i){var s=i.getAttribute("content")==="true";r.imgix.config.useHttps=s?true:false}if(e){var a=e.getAttribute("content")==="true";r.imgix.config.includeLibraryParam=a?true:false}r.imgix.init()})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ImgixTag.js":1,"./defaultConfig":2,"./util.js":5}],4:[function(t,r,i){var e=t("./util.js");var s=2560*2;var a=100;var n={cssWidth:320,dpr:1};var o={cssWidth:320,dpr:2};var u={cssWidth:375,dpr:2};var c={cssWidth:360,dpr:4};var h={cssWidth:414,dpr:3};var d={cssWidth:736,dpr:3};var l={cssWidth:412,dpr:3.5};var f={cssWidth:690,dpr:3.5};var p={cssWidth:432,dpr:2.5};var v={cssWidth:768,dpr:2.5};var m={cssWidth:360,dpr:3};var x={cssWidth:640,dpr:3};var g={cssWidth:360,dpr:4};var b={cssWidth:640,dpr:4};var W={cssWidth:768,dpr:1};var y={cssWidth:1024,dpr:1};var w={cssWidth:768,dpr:2};var P={cssWidth:1024,dpr:2};var A={cssWidth:1024,dpr:2};var V={cssWidth:1366,dpr:2};var S={cssWidth:576,dpr:1};var j={cssWidth:576,dpr:2};var U={cssWidth:720,dpr:1};var C={cssWidth:720,dpr:2};var I={cssWidth:940,dpr:1};var _={cssWidth:940,dpr:2};var q={cssWidth:1140,dpr:1};var z={cssWidth:1140,dpr:2};var E=[n,o,u,c];var H=[W,y,w,P,A,V];var O=[h,d,l,f,p,v,m,x,g,b];var R=[S,j,U,C,I,_,q,z];function L(){return E.concat(O,H,R)}function M(){var t,r,i;var e=L();var s=[];for(r=0,i=e.length;r<i;r++){t=e[r];s.push(t.cssWidth*t.dpr)}return s}function N(){var t=[];for(var r=a;r<s;r+=a){t.push(r)}t.push(s);return t}function T(){var t=typeof window!=="undefined",r=M().concat(N()),i=[],n=t?window.devicePixelRatio:1,o=t?Math.max(window.screen.availWidth,window.screen.availHeight):s,u=a,c=t?o*n:s;var h,d;for(d=0;d<r.length;d++){h=r[d];if(h<=c&&h>=u){i.push(h)}}i.push(c);return e.uniq(i).sort(function(t,r){return t-r})}r.exports=T()},{"./util.js":5}],5:[function(t,r,i){r.exports={compact:function(t){var r=[];for(var i=0;i<t.length;i++){t[i]&&r.push(t[i])}return r},shallowClone:function(t){var r={};for(var i in t){r[i]=t[i]}return r},extend:function(t,r){for(var i in r){t[i]=r[i]}return t},uniq:function(t){var r={},i=[],e;for(e=0;e<t.length;e++){if(!r[t[e]]){r[t[e]]=true;i.push(t[e])}}return i},encode64:function(t){var r=unescape(encodeURIComponent(t)),i=btoa(r),e=i.replace(/\+/g,"-");e=e.replace(/\//g,"_").replace(/\//g,"_").replace(/\=+$/,"");return e},decode64:function(t){var r=t.replace(/-/g,"+").replace(/_/g,"/"),i=atob(r),e=decodeURIComponent(escape(i));return e},domReady:function(t){if(document.readyState==="complete"){setTimeout(t,0)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){t()}})}}}},{}]},{},[3]);

imgix.init({
  srcAttribute: 'data-src',
  srcsetAttribute: 'data-srcset',
  sizesAttribute: 'data-sizes'
})

/*! lazysizes - v2.0.0 */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.Date,f=a.HTMLPictureElement,g="addEventListener",h="getAttribute",i=a[g],j=a.setTimeout,k=a.requestAnimationFrame||j,l=a.requestIdleCallback,m=/^picture$/i,n=["load","error","lazyincluded","_lazyloaded"],o={},p=Array.prototype.forEach,q=function(a,b){return o[b]||(o[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),o[b].test(a[h]("class")||"")&&o[b]},r=function(a,b){q(a,b)||a.setAttribute("class",(a[h]("class")||"").trim()+" "+b)},s=function(a,b){var c;(c=q(a,b))&&a.setAttribute("class",(a[h]("class")||"").replace(c," "))},t=function(a,b,c){var d=c?g:"removeEventListener";c&&t(a,b),n.forEach(function(c){a[d](c,b)})},u=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},v=function(b,d){var e;!f&&(e=a.picturefill||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},w=function(a,b){return(getComputedStyle(a,null)||{})[b]},x=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},y=function(){var a,c,d=[],e=function(){var b;for(a=!0,c=!1;d.length;)b=d.shift(),b[0].apply(b[1],b[2]);a=!1};return function(f){a?f.apply(this,arguments):(d.push([f,this,arguments]),c||(c=!0,(b.hidden?j:k)(e)))}}(),z=function(a,b){return b?function(){y(a)}:function(){var b=this,c=arguments;y(function(){a.apply(b,c)})}},A=function(a){var b,c=0,d=125,f=999,g=f,h=function(){b=!1,c=e.now(),a()},i=l?function(){l(h,{timeout:g}),g!==f&&(g=f)}:z(function(){j(h)},!0);return function(a){var f;(a=a===!0)&&(g=66),b||(b=!0,f=d-(e.now()-c),0>f&&(f=0),a||9>f&&l?i():j(i,f))}},B=function(a){var b,c,d=99,f=function(){b=null,a()},g=function(){var a=e.now()-c;d>a?j(g,d-a):(l||f)(f)};return function(){c=e.now(),b||(b=j(g,d))}},C=function(){var f,k,l,n,o,x,C,E,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O="onscroll"in a&&!/glebot/.test(navigator.userAgent),P=0,Q=0,R=0,S=0,T=function(a){R--,a&&a.target&&t(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var e,f=a,g="hidden"==w(b.body,"visibility")||"hidden"!=w(a,"visibility");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=d;)g=(w(f,"opacity")||1)>0,g&&"visible"!=w(f,"overflow")&&(e=f.getBoundingClientRect(),g=H>e.left&&G<e.right&&I>e.top-1&&F<e.bottom+1);return g},V=function(){var a,b,e,g,i,j,m,n,p;if((o=c.loadMode)&&8>R&&(a=f.length)){b=0,S++,null==K&&("expand"in c||(c.expand=d.clientHeight>500?500:400),J=c.expand,K=J*c.expFactor),K>Q&&1>R&&S>3&&o>2?(Q=K,S=0):Q=o>1&&S>2&&6>R?J:P;for(;a>b;b++)if(f[b]&&!f[b]._lazyRace)if(O)if((n=f[b][h]("data-expand"))&&(j=1*n)||(j=Q),p!==j&&(C=innerWidth+j*L,E=innerHeight+j,m=-1*j,p=j),e=f[b].getBoundingClientRect(),(I=e.bottom)>=m&&(F=e.top)<=E&&(H=e.right)>=m*L&&(G=e.left)<=C&&(I||H||G||F)&&(l&&3>R&&!n&&(3>o||4>S)||U(f[b],j))){if(ba(f[b]),i=!0,R>9)break}else!i&&l&&!g&&4>R&&4>S&&o>2&&(k[0]||c.preloadAfterLoad)&&(k[0]||!n&&(I||H||G||F||"auto"!=f[b][h](c.sizesAttr)))&&(g=k[0]||f[b]);else ba(f[b]);g&&!i&&ba(g)}},W=A(V),X=function(a){r(a.target,c.loadedClass),s(a.target,c.loadingClass),t(a.target,Z)},Y=z(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,d,e=a[h](c.srcsetAttr);(b=c.customMedia[a[h]("data-media")||a[h]("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},aa=z(function(a,b,d,e,f){var g,i,k,l,o,q;(o=u(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(d?r(a,c.autosizesClass):a.setAttribute("sizes",e)),i=a[h](c.srcsetAttr),g=a[h](c.srcAttr),f&&(k=a.parentNode,l=k&&m.test(k.nodeName||"")),q=b.firesLoad||"src"in a&&(i||g||l),o={target:a},q&&(t(a,T,!0),clearTimeout(n),n=j(T,2500),r(a,c.loadingClass),t(a,Z,!0)),l&&p.call(k.getElementsByTagName("source"),_),i?a.setAttribute("srcset",i):g&&!l&&(N.test(a.nodeName)?$(a,g):a.src=g),(i||l)&&v(a,{src:g})),y(function(){a._lazyRace&&delete a._lazyRace,s(a,c.lazyClass),(!q||a.complete)&&(q?T(o):R--,X(o))})}),ba=function(a){var b,d=M.test(a.nodeName),e=d&&(a[h](c.sizesAttr)||a[h]("sizes")),f="auto"==e;(!f&&l||!d||!a.src&&!a.srcset||a.complete||q(a,c.errorClass))&&(b=u(a,"lazyunveilread").detail,f&&D.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,R++,aa(a,b,f,e,d))},ca=function(){if(!l){if(e.now()-x<999)return void j(ca,999);var a=B(function(){c.loadMode=3,W()});l=!0,c.loadMode=3,W(),i("scroll",function(){3==c.loadMode&&(c.loadMode=2),a()},!0)}};return{_:function(){x=e.now(),f=b.getElementsByClassName(c.lazyClass),k=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),L=c.hFac,i("scroll",W,!0),i("resize",W,!0),a.MutationObserver?new MutationObserver(W).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d[g]("DOMNodeInserted",W,!0),d[g]("DOMAttrModified",W,!0),setInterval(W,999)),i("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[g](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(i("load",ca),b[g]("DOMContentLoaded",W),j(ca,2e4)),W(f.length>0)},checkElems:W,unveil:ba}}(),D=function(){var a,d=z(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),m.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;g>f;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||v(a,c.detail)}),e=function(a,b,c){var e,f=a.parentNode;f&&(c=x(a,f,c),e=u(a,"lazybeforesizes",{width:c,dataAttr:!!b}),e.defaultPrevented||(c=e.detail.width,c&&c!==a._lazysizesWidth&&d(a,f,e,c)))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=B(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),i("resize",g)},checkElems:g,updateElem:e}}(),E=function(){E.i||(E.i=!0,D._(),C._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,j(function(){c.init&&E()})}(),{cfg:c,autoSizer:D,loader:C,init:E,uP:v,aC:r,rC:s,hC:q,fire:u,gW:x,rAF:y}}});
